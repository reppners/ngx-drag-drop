import{j as P}from"./chunk-DMWRLPXL.js";import{b as $,e as z,f as A,g as R}from"./chunk-SI6VR3H6.js";import"./chunk-MFCWXUPB.js";import{Ac as N,Bb as u,Cb as d,La as r,Mb as C,Qb as x,Rb as h,Wb as v,Xb as O,Yb as V,Zb as F,_a as T,ba as p,ca as s,cb as _,hd as B,id as j,jd as k,mb as b,nb as w,ob as M,pb as y,qb as E,rb as g,sb as l,tb as m,ub as L,xc as S,yb as D,zb as f,zc as I}from"./chunk-MITEWCLF.js";var J=t=>({$implicit:t});function G(t,c){t&1&&D(0)}function H(t,c){if(t&1){let e=f();l(0,"mat-list",12),u("dndDrop",function(i){p(e);let o=d().$implicit,a=d(2);return s(a.onDrop(i,o.children))}),_(1,G,1,0,"ng-container",5),m()}if(t&2){let e=d().$implicit;d(2);let n=C(2);r(),g("ngTemplateOutlet",n)("ngTemplateOutletContext",v(2,J,e.children))}}function K(t,c){if(t&1){let e=f();l(0,"div",8)(1,"mat-list-item",9),u("dndMoved",function(){let i=p(e).$implicit,o=d().$implicit,a=d();return s(a.onDragged(i,o,"move"))}),l(2,"span",10),x(3),m()(),b(4,H,2,4,"mat-list",11),m()}if(t&2){let e=c.$implicit;r(),g("dndDraggable",e),r(2),h(e.content),r(),w(e.children?4:-1)}}function Q(t,c){if(t&1&&(L(0,"mat-list-item",7),y(1,K,5,3,"div",8,M)),t&2){let e=c.$implicit;r(),E(e)}}function U(t,c){t&1&&D(0)}var ie=(()=>{class t{draggableList=[{content:"Demo 1",children:[{content:"Nested 1",children:[]},{content:"Nested 2",children:[]},{content:"Nested 3",children:[]}]},{content:"Demo 2",children:[]},{content:"Demo 3",children:[]},{content:"Demo 4",children:[]},{content:"Demo 5",children:[]},{content:"Demo 6",children:[]},{content:"Demo 7",children:[]},{content:"Demo 8",children:[]},{content:"Demo 9",children:[]},{content:"Demo 10",children:[{content:"Nested 1",children:[]},{content:"Nested 2",children:[]},{content:"Nested 3",children:[]}]}];onDragged(e,n,i){if(i==="move"){let o=n.indexOf(e);n.splice(o,1)}}onDrop(e,n){if(console.log("onDrop",e,n),n&&(e.dropEffect==="copy"||e.dropEffect==="move")){let i=e.index;typeof i>"u"&&(i=n.length),n.splice(i,0,e.data)}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=T({type:t,selectors:[["dnd-tree"]],decls:11,vars:7,consts:[["recursiveList",""],[1,"container-fluid"],[1,"row"],[1,"col-12","offset-lg-2","col-lg-4"],["dndDropzone","","dndEffectAllowed","move",1,"d-flex","flex-column","bg-light","gap-1",3,"dndDrop"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"col-12","col-lg-4"],["dndPlaceholderRef","",1,"dndPlaceholder","border","bg-opacity-25","mb-1"],[1,""],["dndEffectAllowed","move",1,"border","bg-white","ms-n3",3,"dndMoved","dndDraggable"],["matListItemTitle",""],["dndDropzone","","dndEffectAllowed","move",1,"d-flex","flex-column","bg-light","pt-2","pb-0","ps-2",2,"min-height","unset"],["dndDropzone","","dndEffectAllowed","move",1,"d-flex","flex-column","bg-light","pt-2","pb-0","ps-2",2,"min-height","unset",3,"dndDrop"]],template:function(n,i){if(n&1){let o=f();l(0,"div",1),_(1,Q,3,0,"ng-template",null,0,F),l(3,"div",2)(4,"div",3)(5,"mat-list",4),u("dndDrop",function(q){return p(o),s(i.onDrop(q,i.draggableList))}),_(6,U,1,0,"ng-container",5),m()(),l(7,"div",6)(8,"pre"),x(9),O(10,"json"),m()()()()}if(n&2){let o=C(2);r(6),g("ngTemplateOutlet",o)("ngTemplateOutletContext",v(5,J,i.draggableList)),r(3),h(V(10,3,i.draggableList))}},dependencies:[N,S,k,j,P,R,z,A,$,B,I],styles:[".dndDraggingSource[_ngcontent-%COMP%]{opacity:.5;transform:scale(.98);pointer-events:none}.dndDraggingSource[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:none}"]})}return t})();export{ie as default};
