import{i as P,j as L}from"./chunk-DMWRLPXL.js";import{a as F,c as O,e as I,f as $}from"./chunk-DBXLHW5G.js";import{e as B}from"./chunk-W46RKDUO.js";import{Bb as x,Cb as o,La as s,Mb as v,Qb as D,Sb as V,Ua as T,Wb as M,Zb as y,_a as b,ba as a,ca as c,cb as p,gd as z,hd as R,id as A,jd as G,kd as H,mb as g,nb as f,ob as w,pb as E,qb as N,rb as u,sb as l,tb as m,ub as S,xc as k,yb as h,zb as C}from"./chunk-MITEWCLF.js";var j=n=>({$implicit:n});function Y(n,_){n&1&&(l(0,"div",8)(1,"mat-icon",12),D(2,"drag_handle "),m()())}function q(n,_){n&1&&(l(0,"div",10),D(1,"MY_CUSTOM_DRAG_IMAGE"),m())}function J(n,_){n&1&&h(0)}function K(n,_){if(n&1){let e=C();l(0,"div",13),x("dndDrop",function(t){a(e);let r=o().$implicit,d=o(2);return c(d.onDrop(t,r.children))}),p(1,J,1,0,"ng-container",3),m()}if(n&2){let e=o().$implicit;o(2);let i=v(2);s(),u("ngTemplateOutlet",i)("ngTemplateOutletContext",M(2,j,e.children))}}function Q(n,_){if(n&1){let e=C();l(0,"mat-card",6),x("dndCanceled",function(){let t=a(e).$implicit,r=o().$implicit,d=o();return c(d.onDragged(t,r,"none"))})("dndCopied",function(){let t=a(e).$implicit,r=o().$implicit,d=o();return c(d.onDragged(t,r,"copy"))})("dndEnd",function(t){a(e);let r=o(2);return c(r.onDragEnd(t))})("dndLinked",function(){let t=a(e).$implicit,r=o().$implicit,d=o();return c(d.onDragged(t,r,"link"))})("dndMoved",function(){let t=a(e).$implicit,r=o().$implicit,d=o();return c(d.onDragged(t,r,"move"))})("dndStart",function(t){a(e);let r=o(2);return c(r.onDragStart(t))}),l(1,"mat-card-header",7),g(2,Y,3,0,"div",8),D(3),m(),l(4,"mat-card-content",9),g(5,q,2,0,"div",10),g(6,K,2,4,"div",11),m()()}if(n&2){let e=_.$implicit;u("dndDisableIf",!!e.disable)("dndDraggable",e),s(2),f(e.handle?2:-1),s(),V(" ",e.content," "),s(2),f(e.customDragImage?5:-1),s(),f(e.children?6:-1)}}function W(n,_){if(n&1&&(S(0,"mat-card",4),E(1,Q,7,6,"mat-card",5,w)),n&2){let e=_.$implicit;s(),N(e)}}function X(n,_){n&1&&h(0)}var ae=(()=>{class n{snackBarService;nestableList=[{content:"Got something nested",children:[{content:"Nested",customDragImage:!0,children:[]}]},{content:"No nested dropping here"},{content:"Got more than one",children:[{content:"Nested 1",handle:!0,children:[]},{content:"Nested 2",children:[]},{content:"Nested 3",children:[]}]},{content:"Drop something, I'll catch!",children:[]}];currentDraggableEvent;currentDragEffectMsg;constructor(e){this.snackBarService=e}onDragStart(e){this.currentDragEffectMsg="",this.currentDraggableEvent=e,this.snackBarService.dismiss(),this.snackBarService.open("Drag started!",void 0,{duration:2e3})}onDragged(e,i,t){if(this.currentDragEffectMsg=`Drag ended with effect "${t}"!`,t==="move"){let r=i.indexOf(e);i.splice(r,1)}}onDragEnd(e){this.currentDraggableEvent=e,this.snackBarService.dismiss(),this.snackBarService.open(this.currentDragEffectMsg||"Drag ended!",void 0,{duration:2e3})}onDrop(e,i){if(i&&(e.dropEffect==="copy"||e.dropEffect==="move")){let t=e.index;typeof t>"u"&&(t=i.length),i.splice(t,0,e.data)}}static \u0275fac=function(i){return new(i||n)(T(B))};static \u0275cmp=b({type:n,selectors:[["dnd-nested"]],decls:5,vars:4,consts:[["recursiveList",""],[1,"container-fluid"],["dndDropzone","",1,"d-flex","gap-3","p-3","rounded-2",3,"dndDrop"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["appearance","raised","dndPlaceholderRef","",1,"dndPlaceholder"],["appearance","raised","dndEffectAllowed","move",3,"dndDisableIf","dndDraggable"],["appearance","raised","dndEffectAllowed","move",3,"dndCanceled","dndCopied","dndEnd","dndLinked","dndMoved","dndStart","dndDisableIf","dndDraggable"],[1,"p-2"],[1,"drag-handle","me-2","text-muted"],[1,"d-flex","align-items-start","gap-2","flex-column","p-2"],["dndDragImageRef",""],["dndDropzone","",1,"flex-column","p-2","gap-2","rounded-2"],["dndHandle","","mat-list-icon",""],["dndDropzone","",1,"flex-column","p-2","gap-2","rounded-2",3,"dndDrop"]],template:function(i,t){if(i&1){let r=C();l(0,"div",1),p(1,W,3,0,"ng-template",null,0,y),l(3,"div",2),x("dndDrop",function(U){return a(r),c(t.onDrop(U,t.nestableList))}),p(4,X,1,0,"ng-container",3),m()()}if(i&2){let r=v(2);s(4),u("ngTemplateOutlet",r)("ngTemplateOutletContext",M(2,j,t.nestableList))}},dependencies:[$,F,O,I,A,R,L,P,H,z,G,k],styles:["[_nghost-%COMP%]{display:block;box-sizing:border-box}mat-card[_ngcontent-%COMP%]{transition:transform .2s,opacity .2s}mat-card-header[_ngcontent-%COMP%]{border-bottom:2px solid rgba(0,0,0,.04);align-items:center;min-height:46px}.dndDraggingSource[_ngcontent-%COMP%]{opacity:.5;transform:scale(.98)}.dndPlaceholder[_ngcontent-%COMP%]{background:#fff;min-height:46px;min-width:46px}[dnddropzone][_ngcontent-%COMP%]{background:#fafafa;min-height:60px;display:flex;outline:2px solid rgba(0,0,0,.04)}"]})}return n})();export{ae as default};
