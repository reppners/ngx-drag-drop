import{j as V}from"./chunk-M23OIEY2.js";import{b as S,e as F,f as P,g as $}from"./chunk-FIIN4AGO.js";import"./chunk-W5SRCUNW.js";import{$a as m,Ab as d,Kb as v,La as r,Ob as x,Pb as h,Ub as C,Vb as w,Wb as M,Xa as T,Xb as y,fa as _,ga as g,gd as z,hd as A,id as R,qb as a,rb as l,sb as p,tb as b,tc as O,uc as E,vc as L,wb as D,xb as f,xc as I,yc as N,zb as u}from"./chunk-VNQOGEX2.js";var j=t=>({$implicit:t});function J(t,c){t&1&&D(0)}function k(t,c){if(t&1){let e=f();l(0,"mat-list",13),u("dndDrop",function(i){_(e);let o=d().$implicit,s=d(2);return g(s.onDrop(i,o.children))}),m(1,J,1,0,"ng-container",5),p()}if(t&2){let e=d().$implicit;d(2);let n=v(2);r(),a("ngTemplateOutlet",n)("ngTemplateOutletContext",C(2,j,e.children))}}function q(t,c){if(t&1){let e=f();l(0,"div",9)(1,"mat-list-item",10),u("dndMoved",function(){let i=_(e).$implicit,o=d().$implicit,s=d();return g(s.onDragged(i,o,"move"))}),l(2,"span",11),x(3),p()(),m(4,k,2,4,"mat-list",12),p()}if(t&2){let e=c.$implicit;r(),a("dndDraggable",e),r(2),h(e.content),r(),a("ngIf",e.children)}}function G(t,c){if(t&1&&(b(0,"mat-list-item",7),m(1,q,5,3,"div",8)),t&2){let e=c.$implicit;r(),a("ngForOf",e)}}function H(t,c){t&1&&D(0)}var ee=(()=>{class t{draggableList=[{content:"Demo 1",children:[{content:"Nested 1",children:[]},{content:"Nested 2",children:[]},{content:"Nested 3",children:[]}]},{content:"Demo 2",children:[]},{content:"Demo 3",children:[]},{content:"Demo 4",children:[]},{content:"Demo 5",children:[]},{content:"Demo 6",children:[]},{content:"Demo 7",children:[]},{content:"Demo 8",children:[]},{content:"Demo 9",children:[]},{content:"Demo 10",children:[{content:"Nested 1",children:[]},{content:"Nested 2",children:[]},{content:"Nested 3",children:[]}]}];onDragged(e,n,i){if(i==="move"){let o=n.indexOf(e);n.splice(o,1)}}onDrop(e,n){if(console.log("onDrop",e,n),n&&(e.dropEffect==="copy"||e.dropEffect==="move")){let i=e.index;typeof i>"u"&&(i=n.length),n.splice(i,0,e.data)}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=T({type:t,selectors:[["dnd-tree"]],decls:11,vars:7,consts:[["recursiveList",""],[1,"container-fluid"],[1,"row"],[1,"col-12","offset-lg-2","col-lg-4"],["dndDropzone","","dndEffectAllowed","move",1,"d-flex","flex-column","bg-light","gap-1",3,"dndDrop"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"col-12","col-lg-4"],["dndPlaceholderRef","",1,"dndPlaceholder","border","bg-opacity-25","mb-1"],["class","",4,"ngFor","ngForOf"],[1,""],["dndEffectAllowed","move",1,"border","bg-white","ms-n3",3,"dndMoved","dndDraggable"],["matListItemTitle",""],["class","d-flex flex-column bg-light pt-2 pb-0 ps-2","style","min-height: unset","dndDropzone","","dndEffectAllowed","move",3,"dndDrop",4,"ngIf"],["dndDropzone","","dndEffectAllowed","move",1,"d-flex","flex-column","bg-light","pt-2","pb-0","ps-2",2,"min-height","unset",3,"dndDrop"]],template:function(n,i){if(n&1){let o=f();l(0,"div",1),m(1,G,2,1,"ng-template",null,0,y),l(3,"div",2)(4,"div",3)(5,"mat-list",4),u("dndDrop",function(B){return _(o),g(i.onDrop(B,i.draggableList))}),m(6,H,1,0,"ng-container",5),p()(),l(7,"div",6)(8,"pre"),x(9),w(10,"json"),p()()()()}if(n&2){let o=v(2);r(6),a("ngTemplateOutlet",o)("ngTemplateOutletContext",C(5,j,i.draggableList)),r(3),h(M(10,3,i.draggableList))}},dependencies:[N,O,E,L,I,R,A,V,$,F,P,S,z],styles:[".dndDraggingSource[_ngcontent-%COMP%]{opacity:.5;transform:scale(.98);pointer-events:none}.dndDraggingSource[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:none}"]})}return t})();export{ee as default};
