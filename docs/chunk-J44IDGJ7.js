import{b as M,e as F,f as P,g as $}from"./chunk-SI6VR3H6.js";import"./chunk-MFCWXUPB.js";import{Bb as s,Cb as D,La as p,Qb as c,Tb as v,Vb as C,_a as h,ba as g,ca as u,hd as E,id as S,jd as O,pb as f,qb as y,rb as _,sb as r,tb as a,ub as x,zb as b}from"./chunk-MITEWCLF.js";var L=()=>["apple"],V=()=>["banana"];function I(i,m){if(i&1){let e=b();r(0,"mat-list-item",9),s("dndMoved",function(){let t=g(e),d=t.$implicit,o=t.$index,l=D();return u(l.onDragged(o,d,l.fruits))}),r(1,"span",10),c(2),a()()}if(i&2){let e=m.$implicit;_("dndDraggable",e)("dndType",e.type),p(2),v("",e.type," ",e.id)}}function k(i,m){if(i&1){let e=b();r(0,"mat-list-item",9),s("dndMoved",function(){let t=g(e),d=t.$implicit,o=t.$index,l=D();return u(l.onDragged(o,d,l.apples))}),r(1,"span",10),c(2),a()()}if(i&2){let e=m.$implicit;_("dndDraggable",e)("dndType",e.type),p(2),v("",e.type," ",e.id)}}function z(i,m){if(i&1){let e=b();r(0,"mat-list-item",9),s("dndMoved",function(){let t=g(e),d=t.$implicit,o=t.$index,l=D();return u(l.onDragged(o,d,l.bananas))}),r(1,"span",10),c(2),a()()}if(i&2){let e=m.$implicit;_("dndDraggable",e)("dndType",e.type),p(2),v("",e.type," ",e.id)}}var A=0;function T(i){return{id:A++,type:i}}function w(i,m){return Array.from({length:m-i+1},(e,n)=>n)}var G=(()=>{class i{fruits=w(0,100).map(e=>{let n=Math.random()<.5?"apple":"banana";return T(n)});apples=w(0,12).map(e=>T("apple"));bananas=w(0,10).map(e=>T("banana"));trackByFruit(e,n){return n}onDragged(e,n,t){let d=t.indexOf(n);console.log(`onDragged ngFor-index=${e}, item=${n}, removeIndex=${d}, list=${t.length}`),t.splice(d,1)}onDrop(e,n){console.log("onDrop",e,n.length);let t=e.index;typeof t>"u"&&(t=n.length),n.splice(t,0,e.data)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=h({type:i,selectors:[["dnd-typed"]],decls:23,vars:4,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],["dndDropzone","","dndEffectAllowed","move",1,"dndList","gap-1","flex-grow-1","d-flex","flex-column","bg-light","rounded-1","shadow-sm",3,"dndDrop"],["dndPlaceholderRef","",1,"dndPlaceholder","border","rounded-1","bg-danger","bg-gradient"],["dndEffectAllowed","move",1,"border","rounded-1","bg-white",3,"dndDraggable","dndType"],["dndEffectAllowed","move",1,"dndList","gap-1","flex-grow-1","d-flex","flex-column","bg-light","rounded-1","shadow-sm",3,"dndDrop","dndDropzone"],["dndPlaceholderRef","",1,"dndPlaceholder","border","rounded-1","bg-success","bg-gradient"],["dndPlaceholderRef","",1,"dndPlaceholder","border","rounded-1","bg-warning","bg-gradient"],["dndEffectAllowed","move",1,"border","rounded-1","bg-white",3,"dndMoved","dndDraggable","dndType"],["matListItemTitle",""]],template:function(n,t){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"pre"),c(4,"Fruits"),a(),r(5,"mat-list",3),s("dndDrop",function(o){return t.onDrop(o,t.fruits)}),x(6,"mat-list-item",4),f(7,I,3,4,"mat-list-item",5,t.trackByFruit,!0),a()(),r(9,"div",2)(10,"pre"),c(11,"Apples"),a(),r(12,"mat-list",6),s("dndDrop",function(o){return t.onDrop(o,t.apples)}),x(13,"mat-list-item",7),f(14,k,3,4,"mat-list-item",5,t.trackByFruit,!0),a()(),r(16,"div",2)(17,"pre"),c(18,"Bananas"),a(),r(19,"mat-list",6),s("dndDrop",function(o){return t.onDrop(o,t.bananas)}),x(20,"mat-list-item",8),f(21,z,3,4,"mat-list-item",5,t.trackByFruit,!0),a()()()()),n&2&&(p(7),y(t.fruits),p(5),_("dndDropzone",C(2,L)),p(2),y(t.apples),p(5),_("dndDropzone",C(3,V)),p(2),y(t.bananas))},dependencies:[$,F,P,M,O,S,E],styles:["[_nghost-%COMP%]{display:block;box-sizing:border-box}pre[_ngcontent-%COMP%]{text-align:center;padding:8px}.mat-mdc-list-item[_ngcontent-%COMP%]{margin:2px 0;border:1px solid gray}.dndList[_ngcontent-%COMP%]{transition:all .3s ease;padding:8px;overflow-y:auto}.dndList.dndDragover[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;border-color:green}.dndDragging[_ngcontent-%COMP%]{border:1px solid green}.dndDraggingSource[_ngcontent-%COMP%]{display:none}.dndPlaceholder[_ngcontent-%COMP%]{min-height:48px;border:1px dashed green;background-color:#0000001a}pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word}"]})}return i})();export{G as default};
